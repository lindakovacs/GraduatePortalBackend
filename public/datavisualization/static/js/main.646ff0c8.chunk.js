(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,a){e.exports=a(230)},114:function(e,t,a){},119:function(e,t,a){},164:function(e,t,a){},166:function(e,t,a){},207:function(e,t,a){},209:function(e,t,a){},211:function(e,t,a){},228:function(e,t,a){},230:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),c=a.n(l),i=a(32),o=a(56),s=a(9),u=Object(s.a)(),d=a(24),p=a(16),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,hasError:!1,isLoginInvalid:!1,validationState:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_FULFILLED":return t.payload.isSuccess?Object(p.a)({},e,{isLoading:!1,hasError:!1,isLoginInvalid:!1,validationState:"success"}):Object(p.a)({},e,{isLoading:!1,hasError:!1,isLoginInvalid:!0,validationState:"error"});case"LOGIN_PENDING":return Object(p.a)({},e,{isLoading:!0,hasError:!1,isLoginInvalid:!1,validationState:null});case"LOGIN_REJECTED":return Object(p.a)({},e,{isLoading:!1,hasError:!0,isLoginInvalid:!1,validationState:null});default:return e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{profiles:null,isAdmin:!!localStorage.token,isLoading:!1,hasError:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_FULFILLED":return t.payload.token?Object(p.a)({},e,{isAdmin:!0}):Object(p.a)({},e,{isAdmin:!1});case"LOGOUT":return Object(p.a)({},e,{isAdmin:!1});default:return e}},g=Object(d.c)({Shared:h,Login:m}),E=a(91),f=a(103),y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.d,v=[E.a,Object(f.a)()],b=Object(d.e)(g,y(d.a.apply(void 0,v))),O=a(36),A=a(81),C=a(80),L=(a(114),a(18)),S=a(19),N=a(21),j=a(20),w=a(22),x=a(236),I=a(232),k=a(233),M=(a(116),a(93)),P=a.n(M),D=(a(119),function(e){function t(){return Object(L.a)(this,t),Object(N.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(x.a,{inverse:!0,collapseOnSelect:!0,className:"acc-navbar"},r.a.createElement(x.a.Header,{className:"acc-header ".concat(this.props.isAdmin?"":"non-admin")},r.a.createElement(x.a.Brand,{className:"acc-brand"},r.a.createElement("a",{href:"https://albanycancode.org/"},r.a.createElement("img",{src:P.a,alt:"acc logo"}))),this.props.isAdmin&&r.a.createElement(x.a.Toggle,null)),this.props.isAdmin?r.a.createElement(x.a.Collapse,null,r.a.createElement(I.a,{pullRight:!0},r.a.createElement(k.a,{className:"acc-link",href:"#",eventKey:2,onClick:this.props.logout},"LOGOUT"))):r.a.createElement(I.a,{pullRight:!0})))}}]),t}(n.Component)),F=function(){return localStorage.removeItem("token"),function(e){e({type:"LOGOUT"});var t=u.location.pathname;(/^\/profile\/add/.test(t)||/^\/profile\/\w+\/edit/.test(t))&&u.push("/")}};var U=Object(i.b)(function(e){return{isAdmin:e.Shared.isAdmin}},function(e){return{logout:function(){return e(F())}}})(D);a(164);var B=function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"container"},r.a.createElement("p",null,"\xa9 2016-",(new Date).getFullYear()," ALBANYCANCODE. ALL RIGHTS RESERVED."),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://albanycancode.org/"},"HOME")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://albanycancode.org/employers/"},"EMPLOYERS")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://albanycancode.org/donate/"},"DONATE")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://albanycancode.org/news/"},"NEWS")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://albanycancode.org/contact/"},"CONTACT")))))},V=a(234),R=a(237),W=a(235);a(166);var T=function(e){return console.log(e.errorData),r.a.createElement("div",{className:"alert alert-danger ".concat(e.errorData||""),role:"alert"},e.children)},z=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(N.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",validationState:a.props.validationState},a.handleSubmit=function(e){e.preventDefault(),a.props.login(a.state.username,a.state.password)},a}return Object(w.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login container text-center"},r.a.createElement("form",{className:"panel",onSubmit:this.handleSubmit},r.a.createElement("header",{className:"panel-body"},r.a.createElement("h2",null,"Polling - Data Visualization",r.a.createElement("br",null),"Admin Login")),r.a.createElement("main",{className:"panel-body"},r.a.createElement(V.a,{validationState:this.props.validationState},r.a.createElement(R.a,{type:"text",className:"login-input",placeholder:"Username","aria-label":"Username",value:this.state.username,onChange:function(t){return e.setState({username:t.target.value})}})),r.a.createElement(V.a,{validationState:this.props.validationState},r.a.createElement(R.a,{type:"password",placeholder:"Password","aria-label":"Password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}})),r.a.createElement(W.a,{type:"submit",className:"btn acc-btn acc-btn-primary login-btn",disabled:!0===this.props.isLoading},this.props.isLoading?"LOADING ...":"LOGIN"),this.props.isLoginInvalid&&r.a.createElement(T,{errorData:"login-error"},"Your username or password does not match what we have in our records."),this.props.hasError&&r.a.createElement(T,{errorData:"login-error"},"Sorry! The Graduate Portal is temporarily down. Our engineers are aware of the problem and are hard at work trying to fix it. Please come back later."))))}}]),t}(n.Component),G=a(38),Y=a.n(G),Q=a(46),H="".concat(Q.a.apiUrl,"api"),K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST",n=localStorage.getItem("token");return Y()(e,{method:a,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:n?"Bearer ".concat(n):""},data:t?JSON.stringify(t):null}).then(function(e){return e.data})},J=function(e,t){return K("".concat(H,"/login"),{username:e,password:t}).then(function(e){return e.token&&(localStorage.token=e.token),e})},Z=function(e,t){return function(a){a(function(e,t){return{type:"LOGIN",payload:J(e,t)}}(e,t)).then(function(e){e.value.token&&u.push("/")})}};var q=Object(i.b)(function(e){return Object(p.a)({},e.Login)},function(e){return{login:function(t,a){return e(Z(t,a))}}})(z),X=a(89),_=a.n(X),$=a(100),ee=a(101),te=a(82),ae=(a(207),function(e){return r.a.createElement("div",{className:"card text-center shadow"},r.a.createElement("div",{className:"overflow"}),r.a.createElement("div",{className:"card-body text-dark"}),r.a.createElement("h4",{className:"card-title"},e.title),r.a.createElement("hr",null),r.a.createElement("p",{className:"card-text text-secondary"},e.text),r.a.createElement("h4",{className:"card-title"},"Number of Students"),r.a.createElement("p",{className:"card-text text-secondary"},e.text2),r.a.createElement("h4",{className:"card-title"},"Average Salary Increase"))}),ne=function(e){function t(){return Object(L.a)(this,t),Object(N.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid d-flex justify-content-center"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement(ae,{title:"Veterans",text:"67",text2:"$15,000"})),r.a.createElement("div",{className:"col-md-3"},r.a.createElement(ae,{title:"POC",text:"50",text2:"$20,000"})),r.a.createElement("div",{className:"col-md-3"},r.a.createElement(ae,{title:"Women",text:"75",text2:"12,500"})),r.a.createElement("div",{className:"col-md-3"},r.a.createElement(ae,{title:"Overall",text:"200",text2:"$30,000"}))))}}]),t}(n.Component);function re(e){return parseFloat(e.replace(/[$,]/g,""))}function le(e,t,a){return e+=re(t.salarychange)}function ce(e){return Math.round(e.reduce(le,0)/e.length)}function ie(e){e.sort(function(e,t){return e-t});var t=Math.floor(e.length/2);return e.length%2?Math.round(e[t]):Math.round((e[t]+e[t+1])/2)}a(209),a(211);var oe=a(102),se=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(N.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(w.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,console.log(this.props),r.a.createElement(oe.push,null,r.a.createElement("form",null,r.a.createElement("input",{name:"overall",type:"checkbox",defaultChecked:!0,onChange:this.props.updateParentOverall}),r.a.createElement("label",null,"Overall"),r.a.createElement("br",null),r.a.createElement("input",{name:"median",type:"checkbox",defaultChecked:!0,onChange:this.props.updateParentMedian}),r.a.createElement("label",null,"Median"),r.a.createElement("br",null),r.a.createElement("input",{name:"multiple",type:"checkbox",defaultChecked:!0,onChange:this.props.updateParentMultiple}),r.a.createElement("label",null,"Multiple classes"),r.a.createElement("br",null),r.a.createElement("input",{name:"men",type:"checkbox",defaultChecked:!0,onChange:this.props.updateParentMen}),r.a.createElement("label",null,"Men"),r.a.createElement("br",null),r.a.createElement("input",{name:"poc",type:"checkbox",defaultChecked:!0,onChange:this.props.updateParentPOC}),r.a.createElement("label",null,"POC"),r.a.createElement("br",null),r.a.createElement("input",{name:"women",type:"checkbox",defaultChecked:!0,onChange:this.props.updateParentWomen}),r.a.createElement("label",null,"Women"),r.a.createElement("br",null),r.a.createElement("input",{name:"single",type:"checkbox",defaultChecked:!0,onChange:this.props.updateParentSingle}),r.a.createElement("label",null,"Single class"),r.a.createElement("br",null),r.a.createElement("input",{name:"veterans",type:"checkbox",defaultChecked:!0,onChange:this.props.updateParentVeterans}),r.a.createElement("label",null,"Veterans"),r.a.createElement("br",null))))}}]),t}(n.Component),ue=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(N.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={rawData:null,studentData:null,hasError:!1,overall:!0,median:!0,multiple:!0,men:!0,poc:!0,women:!0,single:!0,veterans:!0},a.updateData=function(e){return[{category:"Overall",average:ce(e),display:a.state.overall},{category:"Median",average:ie(e.map(function(e){return re(e.salarychange)})),display:a.state.median},{category:"Multiple Classes",average:ce(e.filter(function(e){return"1"!==e.numberofclasses})),display:a.state.multiple},{category:"Men",average:ce(e.filter(function(e){return"Male"===e.gender})),display:a.state.men},{category:"POC",average:ce(e.filter(function(e){return"W"!==e.demographic})),display:a.state.poc},{category:"Women",average:ce(e.filter(function(e){return"Female"===e.gender})),display:a.state.women},{category:"Single Class",average:ce(e.filter(function(e){return"1"===e.numberofclasses})),display:a.state.single},{category:"Veterans",average:ce(e.filter(function(e){return"Y"===e.veteran})),display:a.state.veterans}]},a.updateOverall=function(){a.setState({overall:!a.state.overall})},a.updateMedian=function(){a.setState({median:!a.state.median})},a.updateMultiple=function(){a.setState({multiple:!a.state.multiple})},a.updateMen=function(){a.setState({men:!a.state.men})},a.updatePOC=function(){a.setState({poc:!a.state.poc})},a.updateWomen=function(){a.setState({women:!a.state.women})},a.updateSingle=function(){a.setState({single:!a.state.single})},a.updateVeterans=function(){a.setState({veterans:!a.state.veterans})},a.getLiveData=Object($.a)(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.a.get("".concat(Q.a.apiUrl,"api/graduates/data-visualization")).then(function(e){console.log(a.updateData(e.data.data)),a.setState({rawData:e.data.data}),a.setState({studentData:a.updateData(e.data.data)})}).catch(function(e){return a.setState({hasError:!0,error:e})});case 2:case"end":return e.stop()}},e)})),a.componentDidMount=function(){a.getLiveData()},a}return Object(w.a)(t,e),Object(S.a)(t,[{key:"plot",value:function(e,t,a){var n=this.updateData(this.state.rawData),r=te.d().domain(n.filter(function(e){return!0===e.display}).map(function(e){return e.category})).range([0,t]),l=te.e().domain([0,te.c(n.filter(function(e){return!0===e.display}),function(e){return e.average})]).range([a,0]),c=te.f(te.g);e.selectAll(".bar").data(n.filter(function(e){return!0===e.display})).enter().append("rect").classed("bar",!0).attr("x",function(e){return r(e.category)}).attr("y",function(e){return l(e.average)}).attr("height",function(e){return a-l(e.average)}).attr("width",function(e){return r.bandwidth()}).style("fill",function(e,t){return c(t)});var i=te.a().scale(r);e.append("g").classed("x axis",!0).attr("transform","translate(0,".concat(a,")")).call(i);var o=te.b().ticks(5).scale(l);e.append("g").classed("y axis",!0).attr("transform","translate(0,0)").call(o),e.select(".x.axis").append("text").attr("x",t/2).attr("y",60).attr("fill","#000").style("font-size","20px").style("text-anchor","middle").text("Category"),e.select(".y.axis").append("text").attr("x",0).attr("y",0).attr("transform","translate(-50, ".concat(a/2,") rotate(-90)")).attr("fill","#000").style("font-size","20px").style("text-anchor","middle").text("Average Student Salary Increase")}},{key:"drawChart",value:function(e){var t=new ee.Element("div"),a=60,n=100,r=150,l=40,c=te.h(t).append("svg").attr("id","chart").attr("width",800).attr("height",450).append("g").classed("display",!0).attr("transform","translate(".concat(r,",").concat(a,")")),i=800-r-l,o=450-a-n;return this.plot(c,i,o,e),t.toReact()}},{key:"render",value:function(){return r.a.createElement("div",{id:"Barchart"},console.log(this.state),r.a.createElement(se,Object.assign({},this.state,{pageWrapId:"page-wrap",outerContainerId:"Barchart",updateParentOverall:this.updateOverall,updateParentMedian:this.updateMedian,updateParentMen:this.updateMen,updateParentMultiple:this.updateMultiple,updateParentPOC:this.updatePOC,updateParentWomen:this.updateWomen,updateParentSingle:this.updateSingle,updateParentVeterans:this.updateVeterans})),r.a.createElement("div",{id:"page-wrap",className:"center-chart"},this.state.studentData&&this.drawChart(this.updateData(this.state.rawData)),r.a.createElement(ne,this.state)))}}]),t}(n.Component);var de=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{path:"/",component:U}),r.a.createElement(A.a,null,r.a.createElement(O.a,{exact:!0,path:"/",component:ue}),r.a.createElement(O.a,{exact:!0,path:"/login",component:q}),r.a.createElement(C.a,{to:"/"})),r.a.createElement(B,null))};a(228);c.a.render(r.a.createElement(i.a,{store:b},r.a.createElement(o.a,{history:u,basename:"/datavisualization"},r.a.createElement(de,null))),document.getElementById("root"))},46:function(e,t,a){"use strict";(function(e){var a=(e&&Object({NODE_ENV:"production",PUBLIC_URL:"/datavisualization"}),"production");t.a={production:{apiUrl:"/"},development:{apiUrl:"http://graduateportal-dev.tw7ahpynm7.us-east-2.elasticbeanstalk.com/"}}[a]}).call(this,a(72))},93:function(e,t){e.exports="data:image/png;base64,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"}},[[105,2,1]]]);
//# sourceMappingURL=main.646ff0c8.chunk.js.map